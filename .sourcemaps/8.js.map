{"version":3,"sources":["../../src/pages/product-catalog/product-catalog.module.ts","../../src/pages/product-catalog/product-catalog.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ProductCatalog } from './product-catalog';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductCatalog,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ProductCatalog)\r\n  ],\r\n  entryComponents: [\r\n    ProductCatalog\r\n  ]\r\n})\r\nexport class ProductCatalogModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-catalog/product-catalog.module.ts","import { Component } from '@angular/core';\r\nimport { Moltin } from '../../providers/moltin/moltin';\r\nimport { MoltinProducts, MoltinProduct } from '../../providers/moltin/models/product';\r\nimport {\r\n  IonicPage,\r\n    NavController,\r\n    ModalController,\r\n    ToastController\r\n} from 'ionic-angular';\r\n\r\n@IonicPage({\r\n    name: 'productCatalog',\r\n    segment: 'productCatalog'\r\n})\r\n@Component({\r\n  selector: 'page-catalog',\r\n  templateUrl: 'product-catalog.html'\r\n})\r\n\r\nexport class ProductCatalog {\r\n    //class variable\r\n    private products: MoltinProducts = { data: [], meta: null};\r\n    private productData = [];\r\n    private productIncluded = [];\r\n    private product = [];\r\n    private productList = [];\r\n    private categoryList = [];\r\n    private filteredCatFusionAthletic = [];\r\n    private filteredCatMakeup = [];\r\n    private listSandwichs = [];\r\n    private listPates = [];\r\n    private listBoissons = [];\r\n    \r\n    constructor(\r\n        //protocols\r\n        private modalController: ModalController,\r\n        private navController: NavController,\r\n        private toastController: ToastController,\r\n        private moltin: Moltin,\r\n    )\r\n    {\r\n      //Instantiatation\r\n        this.moltin.getProducts().then(data => {\r\n        //data returned\r\n        this.products = data;\r\n        //product data\r\n        this.productData = this.products.data\r\n        this.productIncluded = data['included']\r\n        //pull category out of the included\r\n        this.categoryList = this.productIncluded['categories']\r\n        //loop through the products (map) and match them to a category and add the category to the products\r\n        this.productList = this.products.data.map(product => {\r\n        //get the image id out of the product object\r\n          const imageId = product['relationships'].main_image\r\n            ? product['relationships'].main_image.data.id\r\n            : false\r\n            //get the cat id out of the product object\r\n            const catId = product['relationships'].categories\r\n              ? product['relationships'].categories.data[0][\"id\"]\r\n              : false\r\n              //now loop through and match them to the included data (categoery object in this case)\r\n           return {\r\n            ...product,\r\n            //id from product id to the the id of the included then add to product\r\n            image: imageId\r\n              ? this.productIncluded['main_images'].find(img => img.id === imageId).link.href\r\n              : '/static/moltin-light-hex.svg',\r\n\r\n              categoriesName: catId\r\n              ? this.productIncluded['categories'].find(cat => cat.id === catId).name\r\n              : 'Category Name'\r\n            }\r\n          })\r\n\r\n          console.log(\"lists\",this.productList);\r\n          for (var i=0; i<this.productList.length; i++) {\r\n            if (this.productList[i][\"categoriesName\"]==\"Sandwichs\") {\r\n              this.listSandwichs.push({\r\n                products: this.productList[i],\r\n                catName: this.productList[i][\"categoriesName\"],\r\n                image:  this.productList[i][\"image\"],\r\n                productName:  this.productList[i][\"name\"],\r\n                productFormattedPrice:  this.productList[i][\"meta\"][\"display_price\"][\"with_tax\"][\"formatted\"]\r\n              })\r\n            }\r\n            else if (this.productList[i][\"categoriesName\"]==\"Pâtes\") {\r\n              this.listPates.push({\r\n                products: this.productList[i],\r\n                catName: this.productList[i][\"categoriesName\"],\r\n                image:  this.productList[i][\"image\"],\r\n                productName:  this.productList[i][\"name\"],\r\n                productFormattedPrice:  this.productList[i][\"meta\"][\"display_price\"][\"with_tax\"][\"formatted\"]\r\n                })\r\n            }\r\n            else if (this.productList[i][\"categoriesName\"]==\"Boissons\") {\r\n              this.listBoissons.push({\r\n                products: this.productList[i], \r\n                catName: this.productList[i][\"categoriesName\"],\r\n                image:  this.productList[i][\"image\"],\r\n                productName:  this.productList[i][\"name\"],\r\n                productFormattedPrice:  this.productList[i][\"meta\"][\"display_price\"][\"with_tax\"][\"formatted\"]\r\n                })\r\n            }\r\n            else {\r\n            console.log(\"no cat for product\")\r\n            }\r\n          }\r\n        })\r\n    }\r\n\r\n    //Actions\r\n    closeModal() {\r\n      let HomePage = this.modalController.create('home')\r\n      HomePage.present(); \r\n    }\r\n\r\n    //view all\r\n    getProductList(categorySelected) {\r\n      console.log(\"categorySelected\", categorySelected)\r\n      if(categorySelected == 'Sandwichs')\r\n      {\r\n          let productListPage = this.modalController.create('productList', {\r\n          'categoryName': \"Sandwichs\",\r\n          'products' : this.listSandwichs\r\n        })\r\n        productListPage.present();\r\n      }\r\n      if(categorySelected == 'Pâtes')\r\n      {\r\n          let productListPage = this.modalController.create('productList', {\r\n          'categoryName': \"Pates\",\r\n          'products' : this.listPates\r\n        })\r\n        productListPage.present();\r\n      }\r\n      if(categorySelected == 'Boissons')\r\n      {\r\n          let productListPage = this.modalController.create('productList', {\r\n          'categoryName': \"Boissons\",\r\n          'products' : this.listBoissons\r\n        })\r\n        productListPage.present();\r\n      }\r\n    }\r\n\r\n    //go to product details\r\n    goToProduct(product) {\r\n        console.log(\"product to pass\", product);\r\n        this.navController.push('product', {'product': product})\r\n    }\r\n\r\n    goToBag() {\r\n        this.navController.push('cart');\r\n    }\r\n\r\n  }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/product-catalog/product-catalog.ts"],"sourceRoot":""}